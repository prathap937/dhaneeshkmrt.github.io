<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/iron-ajax-master/iron-request.html">
<link rel="import" href="../../bower_components/iron-ajax-master/iron-ajax.html">
<link rel="import" href="elements/flytxt-login/flytxt-login.css">
<link rel="import" href="elements/flytxt-login/flytxt-login.js">



<dom-module id="flytxt-login">
  <link rel="import" type="text/css" href="flytxt-login.css">
  <template>
    <iron-request id="xhr1"></iron-request>
    <iron-ajax auto id="xhr"
      method="POST"
      handle-as="application/json"
      on-response="handleLogin">
    </iron-ajax>




  <!-- </div> -->



  </template>

  <script type="text/javascript">
    class FlytxtLogin extends HTMLElement {
      static get is() {
        return 'flytxt-login';
      }

      // static get properties() {
      //   return {
      //     bgColor: {
      //       type: String
      //     },
      //     fontColor: {
      //       type: String
      //     },
      //     logo1Src: {
      //       type: String
      //     },
      //     logo2Src: {
      //       type: String
      //     }
      //   }
      // }


      createdCallback(){
        console.log("Working");
        console.log(this.bgColor);
        document.querySelector('flytxt-login').bgColor = this.bgColor;
        document.querySelector('flytxt-login').fontColor = this.fontColor;
        document.querySelector('flytxt-login').logo1Src = this.logo1Src;
        document.querySelector('flytxt-login').logo2Src = this.logo2Src;

        this.createShadowRoot().innerHTML = `
     <style>
       :host {
         display: block;
       }
     </style>
     <div class="containerLogin">
     <div id="content">
       <div class="backgroundShape">
       </div>
     <!-- <div class="hexagon">
     </div> -->
     <div class="root">
       <form>
         <div class="containerl">
           <p>asd</p>
           <img src="{{logo1Src}}" alt="flytxt-logo" id="flytxt-icon">
           <img src="{{logo2Src}}" alt="flytxt-logo" width="96px" height="48px" id="neonDx-icon">
           <!-- <label><b>Username</b></label> -->
           <input type="email" placeholder="Username" name="uname" id="username" on-input="signInColorChange" >
           <!-- <label><b>Password</b></label> -->
           <input type="password" placeholder="Password" name="psw" id="password" on-input="signInColorChange" on-keypress="checkCapsLock">
           <div class="capsLockAlert">
             <div><img src="../../images/warning.svg" alt="" width="20px" height="20px"><p>Caps Lock is on..!</p></div>
             <!-- <p></p> -->
           </div>
           <div class="rememberMe">
             <input type="checkbox" checked="checked" id="rememberMe"> Remember me
           </div>
           <button id="signIn" disabled=[[enableForm]] on-click="sendRequest">Sign In</button>
         <a class="forgotPassword" href="#" on-click="forgotPasswordAction">Forgot Password?</a>
         </div>
       </form>
     </div>
   </div>
 </div>

     <div id="forgotPasswordModal">
       <div class="modalContent">
         <p>The system will reset your password and send the new password to the registered email ID. Do you want to continue?</p>
         <div class="buttons">
             <button id="no" on-click="closeModal">No</button>
             <button id="yes" on-click="passwordReset">Yes</button>
         </div>
       </div>
     </div>

     <div id="forgotPasswordModalEmpty">
       <div class="modalContent">
         <p>Please provide a registered email address.</p>
       </div>
     </div>

     <div id="passwordReset">
       <div class="modalContent">
         <p>Your password has been reset.</p>
       </div>
     </div>
   `;

    }




      // connectedCallback(){
      //   super.connectedCallback();
      //   let color = this.bgColor;
      //   let fontColor = this.fontColor;
      //   // console.log(this.fontColor);
      //   this.updateStyles({
      //     '--my-bg-color' : color,
      //     '--my-font-color' : fontColor
      //   });
      // }


    }
    // customElements.define(NeonLogin.is, NeonLogin);
    document.registerElement('flytxt-login', FlytxtLogin);
  </script>
</dom-module>
