<script>
customElements.define('neon-background', class extends HTMLElement{
  constructor(){
    super();
  
    const template = document.createElement('template');
    template.innerHTML = ` 
      <style>
        .background-neon{
          position: fixed;
          width: 100%;
          height: 100%;
          overflow: hidden;
          background: linear-gradient(#4c8ac7, #ffffff);
          z-index: -1;
        }
        .hex-top{
          position: absolute;
          width: 102%;
          height: 30%;
          top: 0;
          z-index: 1;
        }
        .hex-bot{
          position: absolute;
          width: 102%;
          height: 30%;
          bottom: -32px;
          z-index: 1;
        }
        .hex-bot img{
          display: inline;
          width: 65px;
          height: auto;
        }
        .hex-top img{
          display: inline;
          width: 65px;
          height: auto;
        }
        .row:not(:first-child) {
          margin-top: -20px;
        }
        .row:nth-child(odd){
          margin-left: 32.5px;
        }
      </style>
      <div class="background-neon">
        <div class="hex-top"><img src="../SVG/hex.png"></div>
        <div class="hex-bot"><img src="../SVG/hex.png"></div>
      </div>
    `;
    this.attachShadow({mode: 'open'});
    this.shadowRoot.appendChild(template.content.cloneNode(true));    
  }
  
  connectedCallback(){
    var skip={
      '3':[10,11,12,13,16,17,18,24,27,29,30,31],
      '4':[1,4,5,12,13,14,16,17,22,23,25,26,27,28,29,30],
      '5':[2,3,4,6,7,8,10,12,13,14,16,18,19,21,22,25,26,27,28,29,30],
    }
    var hextop=this.shadowRoot.querySelector('.hex-top');
    var heximg=this.shadowRoot.querySelector('.hex-top img');
    var res="";
    for(var j=0; j< 5 ; j++){
      res+=`<div class="row rowno-${j}">`;
      let rowLenght=Math.floor(window.innerWidth/65);
      for(var i=1; i <= rowLenght; i++){
        let style='';
        if(skip[j+1]){
          if(skip[j+1].indexOf(i) > -1){
            style='style="visibility:hidden"';
          }
        }

        res+=`<img src="${heximg.src}" ${style}>`;
      }
      res+="</div>";
    }
    hextop.innerHTML=res;

    var hexbot=this.shadowRoot.querySelector('.hex-bot');
    var heximg=this.shadowRoot.querySelector('.hex-bot img');
    var res="";
    for(var j=0; j< 5 ; j++){
      res+=`<div class="row rowno-${j}">`;
      let rowLenght=Math.floor(window.innerWidth/65);
      for(var i=1; i <= rowLenght; i++){
        res+=`<img src="${heximg.src}" >`;
      }
      res+="</div>";
    }
    hexbot.innerHTML=res;
  }


});

</script>
