<script>
customElements.define('neon-background', class extends HTMLElement{
  constructor(){
    super();
  
    const template = document.createElement('template');
    template.innerHTML = ` 
      <style>
        .background-neon{
          position: fixed;
          width: 100%;
          height: 100%;
          overflow: hidden;
          background: linear-gradient(#3876C1, #ffffff);
          z-index: -1;
        }
        .hex-top{
          position: absolute;
          width: 102%;
          height: 30%;
          top: 0;
          z-index: 1;
        }
        .hex-bot{
          position: absolute;
          width: 102%;
          bottom: -20px;
          z-index: 1;
        }
        .hex-bot span{
          display: inline;
          width: 45px;
          height: auto;
        }
        .hex-top span{
          display: inline;
          width: 45px;
          height: auto;
        }
        .row{
          width:110%;
          overflow:hidden;
          margin-bottom:5px;
        }
        .row:not(:first-child) {
          margin-top: -20px;
        }
        .row:nth-child(odd){
          margin-left: 25.5px;
        }
        .hex-top span svg, .hex-bot span svg{
          width:45px;
        }
      </style>
      <div class="background-neon">
        <div class="hex-top">
          <span>
            <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 46.3 53.4" style="enable-background:new 0 0 46.3 53.4" xml:space="preserve"><style type="text/css">.st0{fill:#1D2132;}.st1{fill:url(#SVGID_1_);}.st2{opacity:0.25;}.st3{opacity:0.2;fill:#688EC4;stroke:#FFFFFF;stroke-miterlimit:10;}.st4{opacity:0.1;fill:#688EC4;stroke:#FFFFFF;stroke-miterlimit:10;}.st5{opacity:5.000000e-02;fill:#688EC4;stroke:#FFFFFF;stroke-miterlimit:10;}.st6{opacity:5.000000e-02;fill:none;stroke:#FFFFFF;stroke-width:2;stroke-miterlimit:10;}.st7{opacity:5.000000e-02;fill:#688EC4;stroke:#FFFFFF;stroke-width:2;stroke-miterlimit:10;}.st8{opacity:0.15;fill:#688EC4;stroke:#FFFFFF;stroke-miterlimit:10;}.st9{opacity:0.25;fill:#688EC4;stroke:#FFFFFF;stroke-miterlimit:10;}.st10{opacity:0.1;fill:none;stroke:#FFFFFF;stroke-width:2;stroke-miterlimit:10;}.st11{opacity:0.1;fill:#688EC4;stroke:#FFFFFF;stroke-width:2;stroke-miterlimit:10;}.st12{fill:#FFFFFF;}.st13{fill:none;stroke:#606060;stroke-miterlimit:10;}.st14{opacity:0.5;fill:#CECECE;}.st15{fill:#F68E28;}.st16{fill:none;}.st17{enable-background:new;}.st18{fill:#606060;}.st19{fill:url(#SVGID_6_);}.st20{opacity:5.000000e-02;}.st21{fill:#688EC4;}.st22{opacity:3.000000e-02;fill:#688EC4;stroke:#FFFFFF;stroke-width:2;stroke-miterlimit:10;}.st23{opacity:3.000000e-02;fill:none;stroke:#FFFFFF;stroke-width:2;stroke-miterlimit:10;}.st24{fill:#4D4D4D;}.st25{fill:#F2653E;}.st26{fill:none;stroke:#FFFFFF;stroke-miterlimit:10;}.st27{fill:none;stroke:#FFFFFF;stroke-miterlimit:10;stroke-dasharray:3,3;}.st28{fill:#EF3A39;}.st29{fill:#4A78BB;}.st30{fill:url(#SVGID_7_);}.st31{fill:url(#SVGID_8_);}.st32{fill:url(#SVGID_9_);}.st33{fill:url(#SVGID_10_);}</style><g class="st20"><polygon class="st21" points="45.3,13.9 23.1,1.2 1,14 1.1,39.5 23.2,52.3 45.3,39.4   "/><path class="st12" d="M46.3,13.3L23.1,0L0,13.4l0.1,26.7l23.2,13.3L46.3,40L46.3,13.3z M1.1,39.5L1,14L23.1,1.2l22.2,12.7l0.1,25.6L23.2,52.3L1.1,39.5z"/></g></svg>
          </span>
        </div>
        <div class="hex-bot"></div>
      </div>
    `;
    this.attachShadow({mode: 'open'});
    this.shadowRoot.appendChild(template.content.cloneNode(true));    
  }
  
  connectedCallback(){
    let self=this;
    this.setBackgroundHexagon(self);

    window.addEventListener('resize', (e)=>{this.setBackgroundHexagon(self);});
  }

  setBackgroundHexagon(self){
    var skip={
      '3':[10,11,12,13,16,17,18,24,27,29,30,31],
      '4':[1,4,5,12,13,14,16,17,22,23,25,26,27,28,29,30],
      '5':[2,3,4,6,7,8,10,12,13,14,16,18,19,21,22,25,26,27,28,29,30],
    }

    var bskip={
      '1':[2,4,7,10,13,15,27,34],
      '2':[3,8,9,15,22,28,34],
      '3':[9,27],
    }
    var hextop=self.shadowRoot.querySelector('.hex-top');
    var heximg=self.shadowRoot.querySelector('.hex-top span').innerHTML;
    var res="";
    for(var j=0; j< 5 ; j++){
      res+=`<div class="row rowno-${j}">`;
      let rowLenght=Math.floor(window.innerWidth/45);
      for(var i=1; i <= rowLenght+1; i++){
        let style='';
        if(skip[j+1]){
          if(skip[j+1].indexOf(i) > -1){
            style='style="visibility:hidden"';
          }
        }
        res+=`<span ${style}>${heximg}</span>`;
      }
      res+="</div>";
    }
    hextop.innerHTML=res;

    var hexbot=self.shadowRoot.querySelector('.hex-bot');
    var res="";
    for(var j=0; j< 7 ; j++){
      res+=`<div class="row rowno-${j}">`;
      let rowLenght=Math.floor(window.innerWidth/45);
      for(var i=1; i <= rowLenght+1; i++){
        let style='';
        if(bskip[j+1]){
          if(bskip[j+1].indexOf(i) > -1){
            style='style="visibility:hidden"';
          }
        }
        res+=`<span ${style}>${heximg}</span>`;
      }
      res+="</div>";
    }
    hexbot.innerHTML=res;
  }


});

</script>
