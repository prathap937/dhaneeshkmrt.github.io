<script>
customElements.define('flytxt-login', class extends HTMLElement{
  constructor(){
    super();
  
    const template = document.createElement('template');
    template.innerHTML = ` 
      <style>
        .login{
          width:515px;
          height:auto;
          position: relative;
        }
        .login-form{
          position: absolute;
          top: 130px;
          left: 50px;
          width: 390px;
        }
        .images{
          overflow:hidden;  
          margin-bottom: 20px;
          padding-bottom:15px;
        }
        .left-img{
          width:75px;
          float:left
        }
        .right-img{
          width:95px;
          float:right;
          margin-top: 10px;
        }
        .right-img img{
          height: 16px;
          margin-top: 10px;
        }
        .form-groub {
          padding-bottom: 15px;
          position: relative;
          height: 50px;
        }
        .form-groub input:focus + label{
          top:-12px;
          font-size:0.8em
        }
        .form-groub input.has-value +label{
          top:-12px;
          font-size:0.8em
        }

        .form-groub input:focus{
          outline:none; 

        }
        .form-groub label{
          position: absolute;
          top: 10px;
          font-size: 1.2em;
          color: #666;
          transition: 0.2s all;
        }
        .form-groub input{
          width: 100%;
          height: 30px;
          border: none;
          border-bottom: 1px solid #171a28;
          font-size: 18px;
          color: #444;
        }
        .form-groub-checkbox{
          overflow:hidden;
        }
        .form-groub-checkbox input{
          width: 16px;
          height: 16px;
          vertical-align: sub;
        }
        .form-groub-checkbox div{
          width: 130px;
          float: right;
          font-size: 14px;
          color: #666;
        }
        
        .form-groub-submit{
          margin-top: 15px;
          margin-bottom: 20px;
        }
        .form-groub-submit img{
          width:40px;
        }
        .form-groub-submit button{
          font-size: 20px;
          color: #fff;
          background: #F8A02B;
          outline: none;
          border: none;
          padding: 15px 140px;
          cursor:pointer;
          border-radius: 5px;
        }
        .form-groub-submit button[disabled]{
          color: #6d6d6d;
          background: #e6e6e6;
        }

        .form-groub-forgot{
          text-align: center;
          font-size: 14px;
        }
        .form-groub-forgot a{
          color:#5b85c2;
          text-decoration: none;
          font-size: 1.2em;
        }
        .err{
          font-size:0.8em;
          color:red;
          position: absolute;
        }
        .err.login{
          display: inline-block;
          text-align: center;
          width: 390px;
        }
        .forgot-modal{
          position: fixed;
          top: 40%;
          min-width: 500px;
          padding: 15px;
          font-size: 1.2em;
          background: #fff;
          box-shadow: 1px 1px 19px #0009;
          border-radius: 2px;
          max-width: 90%;
          width: 70%;
          margin: 0 15%;
        }
        .forgot-modal-background{
          display:none;
          background: #00000085;
          position: fixed;
          width: 100%;
          height: 100%;
          top: 0;
          left: 0;
        }
        .action-btn button{
          background-color: #006599;
          color: #FFFFFF;
          padding: 12px 25px;
          font-size: 14px;
          border: none;
          border-radius: 5px;
          cursor:pointer;
        }
        .modal-footer {
          padding: 10px 0 0;
          text-align: right;
        }
        button.no{
          color:#006599;
          background-color:#fff;
        }
        .error-box{
          position: fixed;
          left: 35px;
          bottom: -30px;
          padding: 20px;
          color: #fff;
          background: #000;
          border-radius: 3px;
          transition:0.3s all;
          visibility:hidden;
        }
        .error-box.show{
          bottom: 40px;
          visibility:visible;
        }
        .forgot-password{
          cursor:pointer;
        }
        #login-submit.enable .white{
          display:inline-block;
        }
        #login-submit.enable .yellow{
          display:none;
        }
        #login-submit .white{
          display:none;
        }
        #login-submit .yellow{
          display:inline-block;
        }
      </style>

      <div class="login">
        <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 373.5 421.7" style="enable-background:new 0 0 373.5 421.7;" xml:space="preserve"><style type="text/css">.st0dk{fill:#FFFFFF;}</style><path class="st0dk" d="M171.2,4.2L15.5,94.1C5.9,99.6,0,109.8,0,120.9l0,179.8c0,11.1,5.9,21.3,15.5,26.8l155.7,89.9c9.6,5.5,21.4,5.5,31,0L358,327.6c9.6-5.5,15.5-15.8,15.5-26.8l0-179.8c0-11.1-5.9-21.3-15.5-26.8L202.2,4.2C192.6-1.4,180.8-1.4,171.2,4.2z"/></svg>

        <div class="login-form">
          <div class="images">
            <div class="left-img">

              <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                 viewBox="0 0 51.8 26.5" style="enable-background:new 0 0 51.8 26.5;" xml:space="preserve">
              <style type="text/css">.st0{fill:#1D2132;}.st1{fill:url(#SVGID_1_);}.st2{opacity:0.25;}.st3{opacity:0.2;fill:#688EC4;stroke:#FFFFFF;stroke-miterlimit:10;}.st4{opacity:0.1;fill:#688EC4;stroke:#FFFFFF;stroke-miterlimit:10;}.st5{opacity:5.000000e-02;fill:#688EC4;stroke:#FFFFFF;stroke-miterlimit:10;}.st6{opacity:5.000000e-02;fill:none;stroke:#FFFFFF;stroke-width:2;stroke-miterlimit:10;}.st7{opacity:5.000000e-02;fill:#688EC4;stroke:#FFFFFF;stroke-width:2;stroke-miterlimit:10;}.st8{opacity:0.15;fill:#688EC4;stroke:#FFFFFF;stroke-miterlimit:10;}.st9{opacity:0.25;fill:#688EC4;stroke:#FFFFFF;stroke-miterlimit:10;}.st10{opacity:0.1;fill:none;stroke:#FFFFFF;stroke-width:2;stroke-miterlimit:10;}.st11{opacity:0.1;fill:#688EC4;stroke:#FFFFFF;stroke-width:2;stroke-miterlimit:10;}.st12{fill:#FFFFFF;}.st13{fill:none;stroke:#606060;stroke-miterlimit:10;}.st14{opacity:0.5;fill:#CECECE;}.st15{fill:#F68E28;}.st16{fill:none;}.st17{enable-background:new;}.st18{fill:#606060;}.st19{fill:url(#SVGID_6_);}.st20{opacity:5.000000e-02;}.st21{opacity:3.000000e-02;fill:#688EC4;stroke:#FFFFFF;stroke-width:2;stroke-miterlimit:10;}.st22{opacity:3.000000e-02;fill:none;stroke:#FFFFFF;stroke-width:2;stroke-miterlimit:10;}.st23{fill:#4D4D4D;}.st24{fill:#F2653E;}.st25{fill:none;stroke:#FFFFFF;stroke-miterlimit:10;}.st26{fill:none;stroke:#FFFFFF;stroke-miterlimit:10;stroke-dasharray:3,3;}.st27{fill:#EF3A39;}.st28{fill:#4A78BB;}.st29{fill:url(#SVGID_7_);}.st30{fill:url(#SVGID_8_);}.st31{fill:url(#SVGID_9_);}.st32{fill:url(#SVGID_10_);}.st33{fill:url(#SVGID_11_);}.st34{fill:url(#SVGID_12_);}.st35{fill:url(#SVGID_13_);}.st36{fill:url(#SVGID_14_);}</style>
              <g><polygon class="st28" points="27.1,9.5 24.7,9.5 25.3,6.7 27.7,6.7  "/><polygon class="st28" points="30.3,9.5 27.9,9.5 28.5,6.7 30.9,6.7  "/><polygon class="st28" points="33.5,9.5 31.1,9.5 31.7,6.7 34.1,6.7  "/><polygon class="st28" points="36.7,9.5 34.3,9.5 35,6.7 37.4,6.7  "/><polygon class="st28" points="41.5,9.5 39.1,9.5 39.8,6.7 42.1,6.7  "/><polygon class="st28" points="44.7,9.5 42.4,9.5 43,6.7 45.4,6.7  "/>
                <polygon class="st28" points="47.9,9.5 45.6,9.5 46.2,6.7 48.6,6.7   "/><polygon class="st28" points="51.1,9.5 48.8,9.5 49.4,6.7 51.8,6.7  "/><polygon class="st28" points="47.1,13 44.7,13 45.4,10.3 47.8,10.3  "/>
                <polygon class="st28" points="38.3,13 35.9,13 36.6,10.3 38.9,10.3   "/><polygon class="st28" points="35.1,16.5 32.7,16.5 33.4,13.8 35.8,13.8  "/><polygon class="st28" points="29.5,13 27.1,13 27.7,10.3 30.1,10.3  "/><polygon class="st28" points="28.7,16.5 26.3,16.5 26.9,13.8 29.3,13.8  "/><polygon class="st28" points="39.9,16.5 37.5,16.5 38.2,13.7 40.5,13.7  "/><polygon class="st28" points="46.3,16.5 44,16.5 44.6,13.8 47,13.8  "/><g><g><g><linearGradient id="SVGID_1_" gradientUnits="userSpaceOnUse" x1="5.854" y1="18.6332" x2="5.2039" y2="1.720714e-02"><stop  offset="0" style="stop-color:#F08A21"/><stop  offset="1" style="stop-color:#FCB633"/></linearGradient><path class="st1" d="M0.1,18.7l2.5,0L4.9,8.6h2.9l0.6-1.9l-3,0l0.8-3.7c0,0,0.2-1.1,1-1.1H11c0,0,0.2-2-0.8-2L5.7,0
                        c0,0-1.1,0-1.5,1.8L3,6.8c0,0-0.8,0-1.5,0C0.9,6.8-0.2,8.7,0,8.7c0.3,0,2.5,0,2.5,0L0.1,18.7z"/></g><g><linearGradient id="SVGID_3_" gradientUnits="userSpaceOnUse" x1="12.0249" y1="16.673" x2="11.4481" y2="0.1548"><stop  offset="0" style="stop-color:#F08A21"/>
                        <stop  offset="1" style="stop-color:#FCB633"/></linearGradient><path style="fill:url(#SVGID_3_);" d="M12.2,0.1h2.6l-3.6,13.6c0,0-0.2,1,0.9,1l-0.8,2c-0.5,0-1.4,0-2,0c-0.4,0-1-0.5-0.8-1.7
                        L12.2,0.1z"/></g><g><linearGradient id="SVGID_5_" gradientUnits="userSpaceOnUse" x1="15.8995" y1="16.7936" x2="15.5469" y2="6.6954"><stop  offset="0" style="stop-color:#F08A21"/><stop  offset="1" style="stop-color:#FCB633"/></linearGradient><path style="fill:url(#SVGID_5_);" d="M14.9,6.7h2.4l-1.8,6.7c0,0-0.3,1.3,0.3,1.3l3.1,0c0,0,0.4,1.1-0.8,2.1c0,0-3.3,0-4.3,0
                        c-0.6,0-1-0.9-0.8-2L14.9,6.7z"/></g><g><linearGradient id="SVGID_6_" gradientUnits="userSpaceOnUse" x1="17.5684" y1="26.5085" x2="16.8836" y2="6.8963"><stop  offset="0" style="stop-color:#F08A21"/><stop  offset="1" style="stop-color:#FCB633"/>
                      </linearGradient><path class="st19" d="M17.3,23.5l4.3-16.8h2.2l-4.4,17.9c0,0-0.3,1.9-1.6,1.9c0,0-6.4,0-6.4,0c-0.4,0-1.1-0.9-0.4-1.9
                        c0,0,5.1,0,5.4,0C17.1,24.6,17.3,23.5,17.3,23.5z"/></g></g></g></g></svg>
            </div>
            <div class="right-img">

              <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
               viewBox="0 0 80.8 13.5" style="enable-background:new 0 0 80.8 13.5;" xml:space="preserve"><style type="text/css">.st0{fill:#1D2132;}.st1{fill:url(#SVGID_1_);}.st2{opacity:0.25;}.st3{opacity:0.2;fill:#688EC4;stroke:#FFFFFF;stroke-miterlimit:10;}.st4{opacity:0.1;fill:#688EC4;stroke:#FFFFFF;stroke-miterlimit:10;}.st5{opacity:5.000000e-02;fill:#688EC4;stroke:#FFFFFF;stroke-miterlimit:10;}.st6{opacity:5.000000e-02;fill:none;stroke:#FFFFFF;stroke-width:2;stroke-miterlimit:10;}.st7{opacity:5.000000e-02;fill:#688EC4;stroke:#FFFFFF;stroke-width:2;stroke-miterlimit:10;}.st8{opacity:0.15;fill:#688EC4;stroke:#FFFFFF;stroke-miterlimit:10;}.st9{opacity:0.25;fill:#688EC4;stroke:#FFFFFF;stroke-miterlimit:10;}.st10{opacity:0.1;fill:none;stroke:#FFFFFF;stroke-width:2;stroke-miterlimit:10;}.st11{opacity:0.1;fill:#688EC4;stroke:#FFFFFF;stroke-width:2;stroke-miterlimit:10;}.st12{fill:#FFFFFF;}.st13{fill:none;stroke:#606060;stroke-miterlimit:10;}.st14{opacity:0.5;fill:#CECECE;}.st15{fill:#F68E28;}.st16{fill:none;}.st17{enable-background:new;}.st18{fill:#606060;}.st19{fill:url(#SVGID_6_);}.st20{opacity:5.000000e-02;}.st21{opacity:3.000000e-02;fill:#688EC4;stroke:#FFFFFF;stroke-width:2;stroke-miterlimit:10;}.st22{opacity:3.000000e-02;fill:none;stroke:#FFFFFF;stroke-width:2;stroke-miterlimit:10;}.st23{fill:#4D4D4D;}.st24{fill:#F2653E;}.st25{fill:none;stroke:#FFFFFF;stroke-miterlimit:10;}.st26{fill:none;stroke:#FFFFFF;stroke-miterlimit:10;stroke-dasharray:3,3;}.st27{fill:#EF3A39;}.st28{fill:#4A78BB;}.st29{fill:url(#SVGID_7_);}.st30{fill:url(#SVGID_8_);}.st31{fill:url(#SVGID_9_);}.st32{fill:url(#SVGID_10_);}.st33{fill:#E12829;}.st34{fill:#4E80C0;}.st35{fill:#F68F33;}.st36{fill:#5CA545;}.st37{fill:#4D4D4F;}</style><g><g><path class="st33" d="M44,12c0,0.8-0.7,1.5-1.5,1.5H32c-0.8,0-1.5-0.7-1.5-1.5V1.5C30.5,0.7,31.1,0,32,0h10.5C43.3,0,44,0.7,44,1.5V12z"/><path class="st34" d="M59.2,12c0,0.8-0.7,1.5-1.5,1.5H47.2c-0.8,0-1.5-0.7-1.5-1.5V1.5c0-0.8,0.7-1.5,1.5-1.5h10.5c0.8,0,1.5,0.7,1.5,1.5V12z"/><path class="st35" d="M28.7,12c0,0.8-0.7,1.5-1.5,1.5H16.7c-0.8,0-1.5-0.7-1.5-1.5V1.5c0-0.8,0.7-1.5,1.5-1.5h10.5c0.8,0,1.5,0.7,1.5,1.5V12z"/>  <path class="st36" d="M13.5,12c0,0.8-0.7,1.5-1.5,1.5H1.5C0.7,13.5,0,12.8,0,12V1.5C0,0.7,0.7,0,1.5,0H12c0.8,0,1.5,0.7,1.5,1.5  V12z"/> <polygon class="st12" points="2.7,2.5 5.1,2.5 8.3,7.2 8.3,2.5 10.8,2.5 10.8,11 8.3,11 5.2,6.3 5.2,11 2.7,11 "/> <polygon class="st12" points="18.6,2.5 25.6,2.5 25.6,4.3 21.2,4.3 21.2,5.7 25.3,5.7 25.3,7.4 21.2,7.4 21.2,9.1 25.7,9.1 25.7,11 18.6,11 "/> <polygon class="st12" points="48.4,2.5 50.9,2.5 54.1,7.2 54.1,2.5 56.5,2.5 56.5,11 54.1,11 50.9,6.3 50.9,11 48.4,11 "/> <path class="st12" d="M35.4,6.8c0,0.9,0.2,1.5,0.5,1.9c0.3,0.4,0.8,0.6,1.3,0.6c0.6,0,1-0.2,1.3-0.6c0.3-0.4,0.5-1,0.5-2 c0-0.8-0.2-1.4-0.5-1.8c-0.3-0.4-0.8-0.6-1.3-0.6c-0.5,0-1,0.2-1.3,0.6C35.6,5.3,35.4,5.9,35.4,6.8 M32.8,6.8 c0-1.4,0.4-2.5,1.2-3.3c0.8-0.8,1.9-1.2,3.2-1.2c1.4,0,2.5,0.4,3.3,1.1c0.8,0.8,1.2,1.8,1.2,3.2c0,1-0.2,1.8-0.5,2.5  c-0.3,0.6-0.8,1.1-1.5,1.5c-0.6,0.4-1.4,0.5-2.4,0.5c-1,0-1.8-0.2-2.4-0.5c-0.6-0.3-1.1-0.8-1.5-1.5C33,8.6,32.8,7.8,32.8,6.8"/>  </g>  <g> <g> <g> <path class="st35" d="M70.9,13.5v-2.6l3.5-4.2l-3.5-4.2V0l4.6,5.6v2.2L70.9,13.5z"/>  </g>  <g> <path class="st37" d="M80.8,0v2.6l-3.5,4.2l3.5,4.2v2.6l-4.6-5.6V5.7L80.8,0z"/>  </g>  </g>  <g> <path class="st37" d="M70.9,13.5h-1.2v-1.9c-1,1.3-2.3,1.9-3.9,1.9c-1.4,0-2.6-0.5-3.5-1.5c-0.9-1-1.4-2.2-1.4-3.6 c0-1.4,0.5-2.6,1.4-3.6c1-1,2.1-1.5,3.5-1.5c1.6,0,2.9,0.7,3.8,2V0h1.2V13.5z M69.8,8.5c0-1.1-0.4-2-1.1-2.8  C68,5,67.1,4.6,66,4.6c-1.5,0-2.6,0.6-3.3,1.9c-0.3,0.6-0.5,1.3-0.5,1.9c0,0.7,0.2,1.3,0.5,1.9c0.3,0.6,0.8,1.1,1.4,1.4 c0.6,0.3,1.2,0.5,1.9,0.5c0.7,0,1.3-0.2,1.9-0.5c0.6-0.3,1.1-0.8,1.4-1.4C69.6,9.9,69.8,9.2,69.8,8.5z"/> </g>  </g></g></svg>
            </div>
          </div>
          <div class="form-groub">
            <input type="text" id="username" value="flyops@flytxt.com" >
            <label for="username">Username</label>
            <span class="err username" style="display:none">Invalid Username</span>
          </div>  
          <div class="form-groub">
            <input type="password" id="password" value="flytxt">
            <label for="password">Password</label>
            <span class="err password" style="display:none">Invalid Username</span>
          </div>
          <div class="form-groub-checkbox">
            <div>
            <input type="checkbox" id="remeberMe" checked> <label for="rememberMe">Remember Me</label>
            </div>
          </div>
          <div class="form-groub-submit">
            <button id="login-submit" disabled>Sign In 
              <span class="white"><svg xmlns="http://www.w3.org/2000/svg" width="36" height="15.068" viewBox="0 0 36 15.068"><path fill="#FFF" d="M14.785 15.014l5.556.017 8.361-7.695L20.377 0h-5.556l8.972 7.372-9.008 7.642z"/><path fill="none" d="M14.785 15.014l5.556.017 8.361-7.695L20.377 0h-5.556l8.972 7.372-9.008 7.642z"/><path fill="#FFF" d="M22.084 15.014l5.575.017 8.342-7.695L27.695 0H22.14l8.971 7.372-9.027 7.642z"/><path fill="none" d="M22.084 15.014l5.575.017 8.342-7.695L27.695 0H22.14l8.971 7.372-9.027 7.642z"/><path fill="#FFF" d="M.113 15.014l5.555.017 8.362-7.695L5.704 0H.148l8.973 7.372-9.008 7.642z"/><path fill="none" d="M.113 15.014l5.555.017 8.362-7.695L5.704 0H.148l8.973 7.372-9.008 7.642z"/><path fill="#FFF" d="M7.413 15.014l5.574.017 8.344-7.695L13.023 0H7.467l8.972 7.372-9.026 7.642z"/><path fill="none" d="M7.413 15.014l5.574.017 8.344-7.695L13.023 0H7.467l8.972 7.372-9.026 7.642z"/><path fill="none" d="M.113 15.068h35.924V.018H.113v15.05z"/></svg></span>
              <span class="yellow"><svg xmlns="http://www.w3.org/2000/svg" width="36" height="15.068" viewBox="0 0 36 15.068"><path fill="#F8A02B" d="M14.785 15.014l5.556.017 8.361-7.695L20.377 0h-5.556l8.972 7.372-9.008 7.642z"/><path fill="none" d="M14.785 15.014l5.556.017 8.361-7.695L20.377 0h-5.556l8.972 7.372-9.008 7.642z"/><path fill="#F8A02B" d="M22.084 15.014l5.575.017 8.342-7.695L27.695 0H22.14l8.971 7.372-9.027 7.642z"/><path fill="none" d="M22.084 15.014l5.575.017 8.342-7.695L27.695 0H22.14l8.971 7.372-9.027 7.642z"/><path fill="#F8A02B" d="M.113 15.014l5.555.017 8.362-7.695L5.704 0H.148l8.973 7.372-9.008 7.642z"/><path fill="none" d="M.113 15.014l5.555.017 8.362-7.695L5.704 0H.148l8.973 7.372-9.008 7.642z"/><path fill="#F8A02B" d="M7.413 15.014l5.574.017 8.344-7.695L13.023 0H7.467l8.972 7.372-9.026 7.642z"/><path fill="none" d="M7.413 15.014l5.574.017 8.344-7.695L13.023 0H7.467l8.972 7.372-9.026 7.642z"/><path fill="none" d="M.113 15.068h35.924V.018H.113v15.05z"/></svg></span>
            </button>
            <span class="err login" style="display:none">Invalid Username/Password</span>
          </div>
          <div class="form-groub-forgot">
            <a class="forgot-password">Forgot Password</a>
          </div>
        </div>
        <div class="forgot-modal-background">
          <div class="forgot-modal">
            <div class="modal-header">The system will reset your password and send the new password to the registered email ID. Do you want to continue?</div>
            <div class="modal-footer">
              <div class="action-btn">
                <button class="no">No</button>
                <button class="yes">Yes</button>
              </div>
            </div>
          </div>
        </div>
        <div class="error-box">
          Please provide valid username.
        </div>
      </div>
    `;
    this.attachShadow({mode: 'open'});
    this.shadowRoot.appendChild(template.content.cloneNode(true));

    /*for input focus effect*/
    this.shadowRoot.querySelectorAll('.form-groub input').forEach(input=>{
      input.addEventListener('input',e=>{ (e.target.value.length > 0) ? e.target.classList.add('has-value') :e.target.classList.remove('has-value');
        this.checkValidation();
      });
    });
    
  }
  checkValidation(){
    let username=this.shadowRoot.querySelector("#username");
    let password=this.shadowRoot.querySelector("#password");
    let rememberMe=this.shadowRoot.querySelector("#remeberMe");

    //has value check
    if(username.value.length > 0) username.classList.add('has-value'); else username.classList.remove('has-value');
    if(password.value.length > 0) password.classList.add('has-value'); else password.classList.remove('has-value');

    let err=0;
    if(username.value.length < 4){
      this.shadowRoot.querySelector('.err.username').style.display="block";
      err++;
    }else{
      this.shadowRoot.querySelector('.err.username').style.display="none";
    }
    if(password.value.length < 4){
      this.shadowRoot.querySelector('.err.password').style.display="block";
      err++;
    }else{
      this.shadowRoot.querySelector('.err.password').style.display="none";
    }

    if(err==0){
      this.shadowRoot.querySelector('#login-submit').disabled=false;
      this.shadowRoot.querySelector('#login-submit').className="enable";
      return {username:username.value,password:password.value,rememberMe:rememberMe.checked};
    }else{
      this.shadowRoot.querySelector('#login-submit').disabled=true;
      this.shadowRoot.querySelector('#login-submit').className="";
      return false;
    }

  }
  connectedCallback(){
    this.checkValidation();
    this.shadowRoot.querySelector('#login-submit').addEventListener('click', (e) => {
      let val=this.checkValidation();
      if( val !== false){
        let url=(this.hasAttribute('login-url'))? this.getAttribute('login-url') :'http://192.168.150.45/neon-ws/login';
        let method="post";
        this.loginCheck(url,method,val.username,val.password,val.rememberMe)
          .then((res)=>{
            this.shadowRoot.querySelector('.err.login').style.display="none";
            location.href=this.getAttribute('redirect-url');
          })
          .catch((e)=>{
             this.shadowRoot.querySelector('.err.login').style.display="block";
          })
      }
      return false;
    });

    this.shadowRoot.querySelector('.forgot-password').addEventListener('click', (e) => {
      let username=this.shadowRoot.querySelector("#username");
      if(username && username.value.length > 3){
        this.shadowRoot.querySelector('.forgot-modal-background').style.display="block";
      }else{
        this.shadowRoot.querySelector('.error-box').classList.add('show');
        setTimeout(()=>{
          this.shadowRoot.querySelector('.error-box').classList.remove('show');
        },3000);
      }
    });

    this.shadowRoot.querySelector('.action-btn').addEventListener('click', (e)=>{
      if(e.target.classList.contains('yes')){

        this.resetPassword();
      }
      if(e.target.classList.contains('no')){
        this.shadowRoot.querySelector('.forgot-modal-background').style.display="none";
      }
      
    });
  }
  resetPassword(){
    console.log('need to implements');
  }

  loginCheck(url,method,username,password,rememberMe){
    return new Promise(function (resolve, reject) {
      var xhr = new XMLHttpRequest();
      xhr.open(method, url);
      xhr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
      xhr.onload = function () {
        if (this.status >= 200 && this.status < 300) {
          resolve(xhr.response);
        } else {
          reject({
            status: this.status,
            statusText: xhr.statusText
          });
        }
      };
      xhr.onerror = function () {
        reject({
          status: this.status,
          statusText: xhr.statusText
        });
      };
      xhr.send(`username=${username}&password=${password}&remember-me=${rememberMe}`);
    });
  }

});

</script>